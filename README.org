#+TITLE: Dependency Packer Webpack Plugin

[[https://travis-ci.com/martinjlowm/dependency-packer-webpack-plugin][https://travis-ci.com/martinjlowm/dependency-packer-webpack-plugin.svg?branch=master]]

Webpack plugin that packs dependencies for entry points individually.

This does a similar job to [[https://www.npmjs.com/package/serverless-webpack][Serverless Webpack]], but instead of solely inspecting
=package.json= and depending on the Serverless project - this plugin utilizes
the Webpack compiler to determine exactly what dependencies are required.


* Usage

First, install the plugin: ~[npm/yarn] install
dependency-packer-webpack-plugin~, then reference and add it to your Webpack
config:

#+BEGIN_SRC javascript
  const DependencyPackerPlugin = require('dependency-packer-webpack-plugin').DependencyPackerPlugin;

  module.exports = {
    ...
    output: {
      filename: '[name]/[name].js', // Required for multiple entry points
    }
    ...
    plugins: [
      new DependencyPackerPlugin({
        blacklist: [/aws-sdk/], // Optional
        packageManager: 'npm'   // Optional
      }),
    ],
  };
#+END_SRC

For multiple entry points, each bundle must be output to its own directory to
avoid conflicts during installation of dependencies. To do so, also include the
=config.output.filename= in the example above.

* Development

NPM:

#+BEGIN_SRC bash
  npm run build
  npm link
  cd <project-that-uses-this-plugin>
  npm link dependency-packer-webpack-plugin
#+END_SRC

Yarn:

#+BEGIN_SRC bash
  yarn build
  yarn link
  cd <project-that-uses-this-plugin>
  yarn link dependency-packer-webpack-plugin
#+END_SRC
